generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("MYSQL_DATABASE")
}
model User {
  id        Int         @id @default(autoincrement())
  email     String      @unique(map: "User_email_key")
  username  String
  password  String
  image     String
  createdAt DateTime    @default(now())
  updatedAt DateTime    @default(now())
  posts    Post[]
   statut    user_statut @default(OFFLINE)
  role      user_role 
}

enum user_statut {
  ONLINE
  OFFLINE
}

enum user_role {
  STUDENT
  OWNER
  ADMIN
}
model           Files{
  id            Int @id @default(autoincrement())
  typeFile      String 
  path          String
  postId        Int

  appartementId Int 
  appartement Appartement @relation(fields:[appartementId], references: [id])

}
model Appartement{
  id            Int @id @default(autoincrement())
  nbRooms       Int
  surface       Int
  price         Decimal
  nbRoommate    Int 
  region        String
  city          String
  state         String
  country       String
  isLocated     Boolean
  posts         Post[] 
   files         Files[]
}
model Post {
  id            Int       @id @default(autoincrement())
  datePost      DateTime  @default(now())
  title         String
  description   String
  posterId      Int
  likes         Int
  appartementId   Int
  poster        User     @relation(fields: [posterId], references: [id])
  appartement    Appartement @relation(fields: [appartementId], references: [id])
   
}